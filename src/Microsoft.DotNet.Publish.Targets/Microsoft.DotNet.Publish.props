<!--
***********************************************************************************************
Microsoft.DotNet.Publish.Props  

WARNING:  DO NOT MODIFY this file unless you are knowledgeable about MSBuild and have
          created a backup copy.  Incorrect changes to this file will make it
          impossible to load or build your web deploy projects from the command-line or the IDE.

This file defines the steps in the standard build process to deploy web application projects.

Copyright (C) Microsoft Corporation. All rights reserved.
***********************************************************************************************
-->

<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
 
  <!-- 
  ***********************************************************************************************
  Global Properties
  ***********************************************************************************************
  -->

  <PropertyGroup>

    <PublishTaskFramework Condition=" '$(MSBuildRuntimeType)' == 'Core'">netcoreapp1.0</PublishTaskFramework>
    <PublishTaskFramework Condition=" '$(PublishTaskFramework)' == ''">net46</PublishTaskFramework>
    
    <PublishTasksDir Condition=" '$(PublishTasksDir)'=='' ">$(MSBuildThisFileDirectory)..\..\tools\$(PublishTaskFramework)\</PublishTasksDir>
    <PublishTaskAssemblyFullPath Condition=" '$(PublishTaskAssemblyFullPath)'=='' ">$(PublishTasksDir)\Microsoft.DotNet$(MSBuildRuntimeType).Publish.Tasks.dll</PublishTaskAssemblyFullPath>
    <CopyTargetsDir Condition=" '$(CopyTargetsDir)' == ''">$(MSBuildThisFileDirectory)CopyTargets\</CopyTargetsDir>
    <ComputeTargetsDir Condition=" '$(ComputeTargetsDir)'=='' ">$(MSBuildThisFileDirectory)ComputeTargets\</ComputeTargetsDir>
    <PublishTargetsDir Condition=" '$(PublishTargetsDir)'=='' ">$(MSBuildThisFileDirectory)PublishTargets\</PublishTargetsDir>
    <PublishProfilesDir Condition=" '$(PublishProfilesDir)'=='' ">$(MSBuildThisFileDirectory)PublishProfiles\</PublishProfilesDir>

    <!-- For website project we will always exclude debug symbols from publishing. This can be overridden in the .pubxml file. -->
    <ExcludeGeneratedDebugSymbol Condition="'$(ExcludeGeneratedDebugSymbol)'=='' And '$(_WebProjectType)' == 'WebSite'">True</ExcludeGeneratedDebugSymbol>
    <ExcludeGeneratedDebugSymbol Condition="'$(ExcludeGeneratedDebugSymbol)'=='' And '$(Configuration)' == 'Release'">True</ExcludeGeneratedDebugSymbol>
    <ExcludeGeneratedDebugSymbol Condition="'$(ExcludeGeneratedDebugSymbol)'==''">False</ExcludeGeneratedDebugSymbol>
  </PropertyGroup>

  <PropertyGroup Condition="'$(BaseIntermediateOutputPath)'=='' ">
    <BaseIntermediateOutputPath >$(MSBuildProjectDirectory)\obj\</BaseIntermediateOutputPath>
    <BaseIntermediateOutputPath Condition="!HasTrailingSlash('$(BaseIntermediateOutputPath)')">$(BaseIntermediateOutputPath)\</BaseIntermediateOutputPath>
  </PropertyGroup>

  <PropertyGroup Condition=" '$(IntermediateOutputPath)' == '' ">
    <IntermediateOutputPath Condition=" '$(PlatformName)' == 'AnyCPU' Or '$(PlatformName)' == ''">$(BaseIntermediateOutputPath)$(Configuration)\</IntermediateOutputPath>
    <IntermediateOutputPath Condition=" '$(IntermediateOutputPath)' == '' ">$(BaseIntermediateOutputPath)$(PlatformName)\$(Configuration)\</IntermediateOutputPath>
 </PropertyGroup>

  <PropertyGroup>
    <IntermediateOutputPath Condition="'$([System.IO.Path]::IsPathRooted($(IntermediateOutputPath)))' == 'False'">$(MSBuildProjectDirectory)\$(IntermediateOutputPath)</IntermediateOutputPath>
    <IntermediateOutputPath Condition="!HasTrailingSlash('$(IntermediateOutputPath)')">$(IntermediateOutputPath)\</IntermediateOutputPath>
    <PublishIntermediateTempPath Condition="'$(PublishIntermediateTempPath)' == ''">$([System.IO.Path]::GetFullPath($(IntermediateOutputPath)PublishTemp\))</PublishIntermediateTempPath>
    <PublishIntermediateOutputPath Condition="'$(PublishIntermediateOutputPath)' == ''">$([System.IO.Path]::GetFullPath($(IntermediateOutputPath)PublishTemp\PublishOutput\))</PublishIntermediateOutputPath>
  </PropertyGroup>
  
</Project>
